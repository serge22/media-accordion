(()=>{"use strict";const e=window.wp.blocks,i=window.wp.i18n,t=window.wp.blockEditor,a=window.wp.components,s=(window.wp.data,window.ReactJSXRuntime),n=[["core/paragraph",{placeholder:"type content of press / to add block"}]],d=JSON.parse('{"UU":"srg/media-accordion-item"}');(0,e.registerBlockType)(d.UU,{edit:function({attributes:e,setAttributes:d}){const l=()=>{d({mediaId:null,mediaUrl:"",mime:""})};let o;return o=e.mediaUrl?e.mime.startsWith("video/")?(0,s.jsx)("video",{src:e.mediaUrl,controls:!0,style:{maxWidth:"100%",height:"auto"}}):(0,s.jsx)("img",{src:e.mediaUrl,alt:(0,i.__)("Media selected","media-accordion-item"),style:{maxWidth:"100%",height:"auto"}}):(0,i.__)("Select Image or Video","media-accordion-item"),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.InspectorControls,{children:(0,s.jsxs)(a.PanelBody,{title:(0,i.__)("Accordion Item Settings","media-accordion-item"),children:[(0,s.jsx)(a.TextControl,{label:(0,i.__)("Animation Duration (ms)","media-accordion-item"),type:"number",value:e.duration,min:0,onChange:e=>{d({duration:parseInt(e,10)||0})}}),(0,s.jsx)(t.MediaUploadCheck,{children:(0,s.jsx)(t.MediaUpload,{onSelect:e=>{if(d({mediaId:e.id,mediaUrl:e.url,mime:e.mime}),e.fileLength){const i=e.fileLength.split(":"),t=parseInt(i[0],10)||0,a=parseInt(i[1],10)||0;d({duration:1e3*(60*t+a)})}},allowedTypes:["image","video"],value:e.mediaId,render:({open:t})=>(0,s.jsxs)("div",{style:{marginTop:"1em"},children:[(0,s.jsx)(a.Button,{onClick:t,variant:e.mediaUrl?"link":"secondary",children:o}),e.mediaUrl&&(0,s.jsx)(a.Button,{onClick:l,variant:"link",isDestructive:!0,style:{marginLeft:"1em"},children:(0,i.__)("Remove","media-accordion-item")})]})})})]})}),(0,s.jsxs)("div",{...(0,t.useBlockProps)(),children:[(0,s.jsx)("div",{className:"header",children:(0,s.jsx)(t.RichText,{className:"title",value:e.title,placeholder:(0,i.__)("headingâ€¦","media-accordion-item"),onChange:e=>d({title:e})})}),(0,s.jsx)("div",{className:"wp-block-srg-media-accordion-item_content",children:(0,s.jsx)("div",{className:"wp-block-srg-media-accordion-item_content-wrap",children:(0,s.jsx)(t.InnerBlocks,{template:n})})})]})]})},save:function({attributes:e}){const i=t.useBlockProps.save({style:{"--animation-duration":`${e.duration}ms`}}),a=i.className;return(0,s.jsxs)("div",{...i,children:[(0,s.jsxs)("template",{className:"media-template",children:[e.mediaUrl&&e.mime.startsWith("video/")&&(0,s.jsx)("video",{src:e.mediaUrl,className:`${a}_media-item skip-lazy`,muted:!0,playsInline:!0,loop:!0}),e.mediaUrl&&e.mime.startsWith("image/")&&(0,s.jsx)("img",{src:e.mediaUrl,className:`${a}_media-item skip-lazy`,style:{maxWidth:"100%",height:"auto"},alt:""})]}),(0,s.jsx)("div",{className:`${a}_header`,children:(0,s.jsx)("button",{className:`${a}_header-button`,children:e.title})}),(0,s.jsx)("div",{className:`${a}_content`,children:(0,s.jsx)("div",{className:`${a}_content-wrap`,children:(0,s.jsx)(t.InnerBlocks.Content,{})})})]})}})})();