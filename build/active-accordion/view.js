(()=>{"use strict";var t=function(){return t=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},t.apply(this,arguments)};function e(t,e,i){if(i||2===arguments.length)for(var n,r=0,a=e.length;r<a;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))}function i(t){return Array.prototype.slice.call(t)}function n(t,e){var i=Math.floor(t);return i===e||i+1===e?t:e}function r(){return Date.now()}function a(t,e,i){if(e="data-keen-slider-"+e,null===i)return t.removeAttribute(e);t.setAttribute(e,i||"")}function o(t,e){return e=e||document,"function"==typeof t&&(t=t(e)),Array.isArray(t)?t:"string"==typeof t?i(e.querySelectorAll(t)):t instanceof HTMLElement?[t]:t instanceof NodeList?i(t):[]}function s(t){t.raw&&(t=t.raw),t.cancelable&&!t.defaultPrevented&&t.preventDefault()}function d(t){t.raw&&(t=t.raw),t.stopPropagation&&t.stopPropagation()}function u(){var t=[];return{add:function(e,i,n,r){e.addListener?e.addListener(n):e.addEventListener(i,n,r),t.push([e,i,n,r])},input:function(t,e,i,n){this.add(t,e,function(t){return function(e){e.nativeEvent&&(e=e.nativeEvent);var i=e.changedTouches||[],n=e.targetTouches||[],r=e.detail&&e.detail.x?e.detail:null;return t({id:r?r.identifier?r.identifier:"i":n[0]?n[0]?n[0].identifier:"e":"d",idChanged:r?r.identifier?r.identifier:"i":i[0]?i[0]?i[0].identifier:"e":"d",raw:e,x:r&&r.x?r.x:n[0]?n[0].screenX:r?r.x:e.pageX,y:r&&r.y?r.y:n[0]?n[0].screenY:r?r.y:e.pageY})}}(i),n)},purge:function(){t.forEach(function(t){t[0].removeListener?t[0].removeListener(t[2]):t[0].removeEventListener(t[1],t[2],t[3])}),t=[]}}}function c(t,e,i){return Math.min(Math.max(t,e),i)}function l(t){return(t>0?1:0)-(t<0?1:0)||+t}function h(t){var e=t.getBoundingClientRect();return{height:n(e.height,t.offsetHeight),width:n(e.width,t.offsetWidth)}}function f(t,e,i,n){var r=t&&t[e];return null==r?i:n&&"function"==typeof r?r():r}function p(t){return Math.round(1e6*t)/1e6}function m(t){var i,n,a,o,s,d,u,h,m,v,g,b,w,y,k=1/0,x=[],C=null,T=0;function I(t){D(T+t)}function M(t){var e=L(T+t).abs;return S(e)?e:null}function L(t){var i=Math.floor(Math.abs(p(t/n))),r=p((t%n+n)%n);r===n&&(r=0);var a=l(t),o=u.indexOf(e([],u,!0).reduce(function(t,e){return Math.abs(e-r)<Math.abs(t-r)?e:t})),s=o;return a<0&&i++,o===d&&(s=0,i+=a>0?1:-1),{abs:s+i*d*a,origin:o,rel:s}}function E(t,e,i){var n;if(e||!z())return O(t,i);if(!S(t))return null;var r=L(null!=i?i:T),a=r.abs,o=t-r.rel,s=a+o;n=O(s);var u=O(s-d*l(o));return(null!==u&&Math.abs(u)<Math.abs(n)||null===n)&&(n=u),p(n)}function O(t,e){if(null==e&&(e=p(T)),!S(t)||null===t)return null;t=Math.round(t);var i=L(e),r=i.abs,a=i.rel,o=i.origin,s=A(t),c=(e%n+n)%n,l=u[o],h=Math.floor((t-(r-a))/d)*n;return p(l-c-l+u[s]+h+(o===d?n:0))}function S(t){return P(t)===t}function P(t){return c(t,m,v)}function z(){return o.loop}function A(t){return(t%d+d)%d}function D(e){var i;i=e-T,x.push({distance:i,timestamp:r()}),x.length>6&&(x=x.slice(-6)),T=p(e);var n=V().abs;if(n!==C){var a=null!==C;C=n,a&&t.emit("slideChanged")}}function V(e){var r=e?null:function(){if(d){var t=z(),e=t?(T%n+n)%n:T,i=(t?T%n:T)-s[0][2],r=0-(i<0&&t?n-Math.abs(i):i),u=0,c=L(T),h=c.abs,f=c.rel,p=s[f][2],k=s.map(function(e,i){var a=r+u;(a<0-e[0]||a>1)&&(a+=(Math.abs(a)>n-1&&t?n:0)*l(-a));var s=i-f,c=l(s),m=s+h;t&&(-1===c&&a>p&&(m+=d),1===c&&a<p&&(m-=d),null!==g&&m<g&&(a+=n),null!==b&&m>b&&(a-=n));var v=a+e[0]+e[1],w=Math.max(a>=0&&v<=1?1:v<0||a>1?0:a<0?Math.min(1,(e[0]+a)/e[0]):(1-a)/e[0],0);return u+=e[0]+e[1],{abs:m,distance:o.rtl?-1*a+1-e[0]:a,portion:w,size:e[0]}});return h=P(h),f=A(h),{abs:P(h),length:a,max:y,maxIdx:v,min:w,minIdx:m,position:T,progress:t?e/n:T/a,rel:f,slides:k,slidesLength:n}}}();return i.details=r,t.emit("detailsChanged"),r}return i={absToRel:A,add:I,details:null,distToIdx:M,idxToDist:E,init:function(e){if(function(){if(o=t.options,s=(o.trackConfig||[]).map(function(t){return[f(t,"size",1),f(t,"spacing",0),f(t,"origin",0)]}),d=s.length){n=p(s.reduce(function(t,e){return t+e[0]+e[1]},0));var e,i=d-1;a=p(n+s[0][2]-s[i][0]-s[i][2]-s[i][1]),u=s.reduce(function(t,i){if(!t)return[0];var n=s[t.length-1],r=t[t.length-1]+(n[0]+n[2])+n[1];return r-=i[2],t[t.length-1]>r&&(r=t[t.length-1]),r=p(r),t.push(r),(!e||e<r)&&(h=t.length-1),e=r,t},null),0===a&&(h=0),u.push(p(n))}}(),!d)return V(!0);var i;!function(){var e=t.options.range,i=t.options.loop;g=m=i?f(i,"min",-1/0):0,b=v=i?f(i,"max",k):h;var n=f(e,"min",null),r=f(e,"max",null);null!==n&&(m=n),null!==r&&(v=r),w=m===-1/0?m:t.track.idxToDist(m||0,!0,0),y=v===k?v:E(v,!0,0),null===r&&(b=v),f(e,"align",!1)&&v!==k&&0===s[A(v)][2]&&(y-=1-s[A(v)][0],v=M(y-T)),w=p(w),y=p(y)}(),i=e,Number(i)===i?I(O(P(e))):V()},to:D,velocity:function(){var t=r(),e=x.reduce(function(e,i){var n=i.distance,r=i.timestamp;return t-r>200||(l(n)!==l(e.distance)&&e.distance&&(e={distance:0,lastTimestamp:0,time:0}),e.time&&(e.distance+=n),e.lastTimestamp&&(e.time+=r-e.lastTimestamp),e.lastTimestamp=r),e},{distance:0,lastTimestamp:0,time:0});return e.distance/e.time||0}}}function v(t){var e,i,n,r,a,o,s,d;function u(t){return 2*t}function h(t){return c(t,s,d)}function f(t){return 1-Math.pow(1-t,3)}function p(){return n?t.track.velocity():0}function m(t,e){void 0===e&&(e=1e3);var i=147e-9+(t=Math.abs(t))/e;return{dist:Math.pow(t,2)/i,dur:t/i}}function v(){var e=t.track.details;e&&(a=e.min,o=e.max,s=e.minIdx,d=e.maxIdx)}function g(){t.animator.stop()}t.on("updated",v),t.on("optionsChanged",v),t.on("created",v),t.on("dragStarted",function(){n=!1,g(),e=i=t.track.details.abs}),t.on("dragChecked",function(){n=!0}),t.on("dragEnded",function(){var n=t.options.mode;"snap"===n&&function(){var n=t.track,r=t.track.details,s=r.position,d=l(p());(s>o||s<a)&&(d=0);var u=e+d;0===r.slides[n.absToRel(u)].portion&&(u-=d),e!==i&&(u=i),l(n.idxToDist(u,!0))!==d&&(u+=d),u=h(u);var c=n.idxToDist(u,!0);t.animator.start([{distance:c,duration:500,easing:function(t){return 1+--t*t*t*t*t}}])}(),"free"!==n&&"free-snap"!==n||function(){g();var e="free-snap"===t.options.mode,i=t.track,n=p();r=l(n);var s=t.track.details,d=[];if(n||!e){var c=m(n),v=c.dist,b=c.dur;if(b=u(b),v*=r,e){var w=i.idxToDist(i.distToIdx(v),!0);w&&(v=w)}d.push({distance:v,duration:b,easing:f});var y=s.position,k=y+v;if(k<a||k>o){var x=k<a?a-y:o-y,C=0,T=n;if(l(x)===r){var I=Math.min(Math.abs(x)/Math.abs(v),1),M=function(t){return 1-Math.pow(1-t,1/3)}(I)*b;d[0].earlyExit=M,T=n*(1-I)}else d[0].earlyExit=0,C+=x;var L=m(T,100),E=L.dist*r;t.options.rubberband&&(d.push({distance:E,duration:u(L.dur),easing:f}),d.push({distance:-E+C,duration:500,easing:f}))}t.animator.start(d)}else t.moveToIdx(h(s.abs),!0,{duration:500,easing:function(t){return 1+--t*t*t*t*t}})}()}),t.on("dragged",function(){i=t.track.details.abs})}function g(t){var e,i,n,r,a,h,f,p,m,v,g,b,w,y,k,x,C,T,I=u();function M(e){if(h&&p===e.id){var o=S(e);if(m){if(!O(e))return E(e);v=o,m=!1,t.emit("dragChecked")}if(x)return v=o;s(e);var u=function(e){if(C===-1/0&&T===1/0)return e;var n=t.track.details,o=n.length,s=n.position,d=c(e,C-s,T-s);if(0===o)return 0;if(!t.options.rubberband)return d;if(s<=T&&s>=C)return e;if(s<C&&i>0||s>T&&i<0)return e;var u=(s<C?s-C:s-T)/o,l=r*o,h=Math.abs(u*l),f=Math.max(0,1-h/a*2);return f*f*e}(f(v-o)/r*n);i=l(u);var w=t.track.details.position;(w>C&&w<T||w===C&&i>0||w===T&&i<0)&&d(e),g+=u,!b&&Math.abs(g*r)>5&&(b=!0),t.track.add(u),v=o,t.emit("dragged")}}function L(e){!h&&t.track.details&&t.track.details.length&&(g=0,h=!0,b=!1,m=!0,p=e.id,O(e),v=S(e),t.emit("dragStarted"))}function E(e){h&&p===e.idChanged&&(h=!1,t.emit("dragEnded"))}function O(t){var e=P(),i=e?t.y:t.x,n=e?t.x:t.y,r=void 0!==w&&void 0!==y&&Math.abs(y-n)<=Math.abs(w-i);return w=i,y=n,r}function S(t){return P()?t.y:t.x}function P(){return t.options.vertical}function z(){r=t.size,a=P()?window.innerHeight:window.innerWidth;var e=t.track.details;e&&(C=e.min,T=e.max)}function A(t){b&&(d(t),s(t))}function D(){if(I.purge(),t.options.drag&&!t.options.disabled){var i;i=t.options.dragSpeed||1,f="function"==typeof i?i:function(t){return t*i},n=t.options.rtl?-1:1,z(),e=t.container,function(){var t="data-keen-slider-clickable";o("[".concat(t,"]:not([").concat(t,"=false])"),e).map(function(t){I.add(t,"dragstart",d),I.add(t,"mousedown",d),I.add(t,"touchstart",d)})}(),I.add(e,"dragstart",function(t){s(t)}),I.add(e,"click",A,{capture:!0}),I.input(e,"ksDragStart",L),I.input(e,"ksDrag",M),I.input(e,"ksDragEnd",E),I.input(e,"mousedown",L),I.input(e,"mousemove",M),I.input(e,"mouseleave",E),I.input(e,"mouseup",E),I.input(e,"touchstart",L,{passive:!0}),I.input(e,"touchmove",M,{passive:!1}),I.input(e,"touchend",E),I.input(e,"touchcancel",E),I.add(window,"wheel",function(t){h&&s(t)});var r="data-keen-slider-scrollable";o("[".concat(r,"]:not([").concat(r,"=false])"),t.container).map(function(t){return function(t){var e;I.input(t,"touchstart",function(t){e=S(t),x=!0,k=!0},{passive:!0}),I.input(t,"touchmove",function(i){var n=P(),r=n?t.scrollHeight-t.clientHeight:t.scrollWidth-t.clientWidth,a=e-S(i),o=n?t.scrollTop:t.scrollLeft,d=n&&"scroll"===t.style.overflowY||!n&&"scroll"===t.style.overflowX;if(e=S(i),(a<0&&o>0||a>0&&o<r)&&k&&d)return x=!0;k=!1,s(i),x=!1}),I.input(t,"touchend",function(){x=!1})}(t)})}}t.on("updated",z),t.on("optionsChanged",D),t.on("created",D),t.on("destroyed",I.purge)}function b(t){var e,i,n=null;function r(e,i,n){t.animator.active?o(e,i,n):requestAnimationFrame(function(){return o(e,i,n)})}function a(){r(!1,!1,i)}function o(i,r,a){var o=0,s=t.size,c=t.track.details;if(c&&e){var l=c.slides;e.forEach(function(t,e){if(i)!n&&r&&d(t,null,a),u(t,null,a);else{if(!l[e])return;var c=l[e].size*s;!n&&r&&d(t,c,a),u(t,l[e].distance*s-o,a),o+=c}})}}function s(e){return"performance"===t.options.renderMode?Math.round(e):e}function d(t,e,i){var n=i?"height":"width";null!==e&&(e=s(e)+"px"),t.style["min-"+n]=e,t.style["max-"+n]=e}function u(t,e,i){if(null!==e){e=s(e);var n=i?e:0;e="translate3d(".concat(i?0:e,"px, ").concat(n,"px, 0)")}t.style.transform=e,t.style["-webkit-transform"]=e}function c(){e&&(o(!0,!0,i),e=null),t.on("detailsChanged",a,!0)}function l(){r(!1,!0,i)}function h(){c(),i=t.options.vertical,t.options.disabled||"custom"===t.options.renderMode||(n="auto"===f(t.options.slides,"perView",null),t.on("detailsChanged",a),(e=t.slides).length&&l())}t.on("created",h),t.on("optionsChanged",h),t.on("beforeOptionsChanged",function(){c()}),t.on("updated",l),t.on("destroyed",c)}function w(e,i){return function(n){var r,s,d,c,l,p=u();function m(t){var e;a(n.container,"reverse","rtl"!==(e=n.container,window.getComputedStyle(e,null).getPropertyValue("direction"))||t?null:""),a(n.container,"v",n.options.vertical&&!t?"":null),a(n.container,"disabled",n.options.disabled&&!t?"":null)}function v(){g()&&x()}function g(){var e=null;if(c.forEach(function(t){t.matches&&(e=t.__media)}),e===r)return!1;r||n.emit("beforeOptionsChanged"),r=e;var i=e?d.breakpoints[e]:d;return n.options=t(t({},d),i),m(),L(),E(),T(),!0}function b(t){var e=h(t);return(n.options.vertical?e.height:e.width)/n.size||1}function w(){return n.options.trackConfig.length}function y(e){for(var a in r=!1,d=t(t({},i),e),p.purge(),s=n.size,c=[],d.breakpoints||[]){var o=window.matchMedia(a);o.__media=a,c.push(o),p.add(o,"change",v)}p.add(window,"orientationchange",M),p.add(window,"resize",I),g()}function k(t){n.animator.stop();var e=n.track.details;n.track.init(null!=t?t:e?e.abs:0)}function x(t){k(t),n.emit("optionsChanged")}function C(t,e){if(t)return y(t),void x(e);L(),E();var i=w();T(),w()!==i?x(e):k(e),n.emit("updated")}function T(){var t=n.options.slides;if("function"==typeof t)return n.options.trackConfig=t(n.size,n.slides);for(var e=n.slides,i=e.length,r="number"==typeof t?t:f(t,"number",i,!0),a=[],o=f(t,"perView",1,!0),s=f(t,"spacing",0,!0)/n.size||0,d="auto"===o?s:s/o,u=f(t,"origin","auto"),c=0,l=0;l<r;l++){var h="auto"===o?b(e[l]):1/o-s+d,p="center"===u?.5-h/2:"auto"===u?0:u;a.push({origin:p,size:h,spacing:s}),c+=h}if(c+=s*(r-1),"auto"===u&&!n.options.loop&&1!==o){var m=0;a.map(function(t){var e=c-m;return m+=t.size+s,e>=1||(t.origin=1-e-(c>1?0:1-c)),t})}n.options.trackConfig=a}function I(){L();var t=n.size;n.options.disabled||t===s||(s=t,C())}function M(){I(),setTimeout(I,500),setTimeout(I,2e3)}function L(){var t=h(n.container);n.size=(n.options.vertical?t.height:t.width)||1}function E(){n.slides=o(n.options.selector,n.container)}n.container=(l=o(e,document)).length?l[0]:null,n.destroy=function(){p.purge(),n.emit("destroyed"),m(!0)},n.prev=function(){n.moveToIdx(n.track.details.abs-1,!0)},n.next=function(){n.moveToIdx(n.track.details.abs+1,!0)},n.update=C,y(n.options)}}var y=function(t,i,n){try{return function(t,e){var i,n={};return i={emit:function(t){n[t]&&n[t].forEach(function(t){t(i)});var e=i.options&&i.options[t];e&&e(i)},moveToIdx:function(t,e,n){var r=i.track.idxToDist(t,e);if(r){var a=i.options.defaultAnimation;i.animator.start([{distance:r,duration:f(n||a,"duration",500),easing:f(n||a,"easing",function(t){return 1+--t*t*t*t*t})}])}},on:function(t,e,i){void 0===i&&(i=!1),n[t]||(n[t]=[]);var r=n[t].indexOf(e);r>-1?i&&delete n[t][r]:i||n[t].push(e)},options:t},function(){if(i.track=m(i),i.animator=function(t){var e,i,n,r,a,o;function s(e){o||(o=e),d(!0);var a=e-o;a>n&&(a=n);var l=r[i];if(l[3]<a)return i++,s(e);var h=l[2],f=l[4],p=l[0],m=l[1]*(0,l[5])(0===f?1:(a-h)/f);if(m&&t.track.to(p+m),a<n)return c();o=null,d(!1),u(null),t.emit("animationEnded")}function d(t){e.active=t}function u(t){e.targetIdx=t}function c(){var t;t=s,a=window.requestAnimationFrame(t)}function l(){var e;e=a,window.cancelAnimationFrame(e),d(!1),u(null),o&&t.emit("animationStopped"),o=null}return e={active:!1,start:function(e){if(l(),t.track.details){var a=0,o=t.track.details.position;i=0,n=0,r=e.map(function(t){var e,i=Number(o),r=null!==(e=t.earlyExit)&&void 0!==e?e:t.duration,s=t.easing,d=t.distance*s(r/t.duration)||0;o+=d;var u=n;return n+=r,a+=d,[i,t.distance,u,n,t.duration,s]}),u(t.track.distToIdx(a)),c(),t.emit("animationStarted")}},stop:l,targetIdx:null}}(i),e)for(var t=0,n=e;t<n.length;t++)(0,n[t])(i);i.track.init(i.options.initial||0),i.emit("created")}(),i}(i,e([w(t,{drag:!0,mode:"snap",renderMode:"precision",rubberband:!0,selector:".keen-slider__slide"}),b,g,v],n||[],!0))}catch(t){console.error(t)}};const k=".wp-block-srg-media-accordion",x=".wp-block-srg-media-accordion-item",C=".wp-block-srg-media-accordion-item_header-button",T=".wp-block-srg-media-accordion_media-wrap",I=".media-template",M=".wp-block-srg-media-accordion_pause-btn",L=".wp-block-srg-media-accordion_content-container",E="active",O="wp-block-srg-media-accordion-item--paused",S=5e3,P="--animation-duration",z=20,A=500,D='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" role="presentation" focusable="false" xmlns="http://www.w3.org/2000/svg"><path d="M8 20L20 12L8 4L8 20Z" fill="#ffffffff"></path></svg>',V='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" role="presentation" focusable="false" xmlns="http://www.w3.org/2000/svg"><path d="M6 4h4v16H6V4zm8 0h4v16h-4V4z" fill="#ffffffff"></path></svg>',q={isLandscapeOrSquare:()=>window.matchMedia("(min-aspect-ratio: 1/1)").matches,debounce(t,e){let i;return function(...n){clearTimeout(i),i=setTimeout(()=>t.apply(this,n),e)}},isElementVisible(t){if(!t)return!1;const e=t.getBoundingClientRect(),i=getComputedStyle(t);return e.width>0&&e.height>0&&"none"!==i.display&&"hidden"!==i.visibility&&"0"!==i.opacity}};function _(t){let e,i;const n=t=>{const e=document.createElement("div");return t.split(" ").forEach(t=>e.classList.add(t)),e},r=t=>{t&&t.parentNode&&t.parentNode.removeChild(t)},a=()=>{if(!i)return;const e=t.track.details.rel;Array.from(i.children).forEach((t,i)=>{t.classList.toggle("dot--active",i===e)})},o=(a=!1)=>{((i=!1)=>{if(i){if(e){const t=e.parentNode;for(;e.firstChild;)t.insertBefore(e.firstChild,e);r(e)}}else e=n("keen-slider_navigation-wrapper"),t.container.parentNode.appendChild(e),e.appendChild(t.container)})(a),((a=!1)=>{a?r(i):(i=n("dots"),t.track.details.slides.forEach((e,r)=>{const a=n("dot");a.addEventListener("click",()=>t.moveToIdx(r)),i.appendChild(a)}),e.appendChild(i))})(a)};t.on("created",()=>{o(),a()}),t.on("optionsChanged",()=>{o(!0),o(),a()}),t.on("slideChanged",a),t.on("destroyed",()=>o(!0))}class B{constructor(t){this.accordion=t,this.items=this.accordion.querySelectorAll(x),this.mediaContainer=this.accordion.querySelector(T),this.pauseButton=this.accordion.querySelector(M),this.contentContainer=this.accordion.querySelector(L),this.currentIndex=0,this.timeoutId=null,this.isPaused=!1,this.remainingTime=0,this.startTime=0,this.duration=0,this.slider=null,this.intersectionObserver=null,this.resizeTimeout=null,this.handleClick=this.handleClick.bind(this),this.handleOrientationChange=q.debounce(this.handleOrientationChange.bind(this),A),this.init()}init(){0!==this.items.length&&(this.attachEventListeners(),this.showItem(0),q.isLandscapeOrSquare()||(q.isElementVisible(this.accordion)?this.initSlider():this.setupVisibilityObserver()))}setupVisibilityObserver(){this.intersectionObserver||(this.intersectionObserver=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&q.isElementVisible(this.accordion)&&(this.initSlider(),this.intersectionObserver.disconnect())})},{root:null,rootMargin:"0px",threshold:.1})),this.intersectionObserver.observe(this.accordion)}initSlider(){this.contentContainer&&!this.slider&&(q.isElementVisible(this.accordion)?(this.contentContainer.classList.add("keen-slider"),this.items.forEach(t=>t.classList.add("keen-slider__slide")),this.slider=new y(this.contentContainer,{initial:this.currentIndex,slides:{perView:1,spacing:z},slideChanged:t=>{this.showItem(t.track.details.abs,!1)}},[_])):this.setupVisibilityObserver())}destroySlider(){this.slider&&(this.slider.destroy(),this.slider=null,this.contentContainer.classList.remove("keen-slider"),this.items.forEach(t=>t.classList.remove("keen-slider__slide")))}refreshSlider(){this.slider&&this.slider.update()}attachEventListeners(){this.accordion.addEventListener("click",this.handleClick),window.addEventListener("orientationchange",this.handleOrientationChange),window.addEventListener("resize",this.handleOrientationChange)}handleClick(t){t.preventDefault();const e=t.target.closest(C);e?this.handleItemClick(e):t.target.closest(M)&&this.togglePause()}handleItemClick(t){const e=t.closest(x);if(!e||!q.isLandscapeOrSquare())return;const i=Array.from(this.items).indexOf(e);-1!==i&&i!==this.currentIndex&&this.showItem(i)}handleOrientationChange(){q.isLandscapeOrSquare()?this.destroySlider():this.slider?this.refreshSlider():q.isElementVisible(this.accordion)?this.initSlider():this.setupVisibilityObserver()}showItem(t,e=!0){t<0||t>=this.items.length||(this.clearTimer(),this.updateActiveItem(t,e),this.updateMediaContent(),this.scheduleNextItem())}updateActiveItem(t,e=!0){this.items.forEach(t=>{t.classList.remove(E,O)}),this.items[t].classList.add(E),this.isPaused&&this.items[t].classList.add(O),this.slider&&e&&this.slider.moveToIdx(t),this.currentIndex=t}updateMediaContent(){if(!this.mediaContainer)return;const t=this.items[this.currentIndex].querySelector(I);if(!t||!t.content)return;const e=t.content.cloneNode(!0),i=e.querySelector("video");i&&(i.autoplay=!this.isPaused),this.mediaContainer.innerHTML="",this.mediaContainer.appendChild(e)}scheduleNextItem(){this.isPaused||(this.duration=this.getAnimationDuration(),this.startTime=Date.now(),this.remainingTime=this.duration,this.timeoutId=setTimeout(()=>{this.showItem((this.currentIndex+1)%this.items.length)},this.duration))}getAnimationDuration(){const t=this.items[this.currentIndex],e=getComputedStyle(t).getPropertyValue(P);return e?e.includes("ms")?parseFloat(e):1e3*parseFloat(e):S}togglePause(){this.isPaused?this.resume():this.pause(),this.handleVideoPlayback()}handleVideoPlayback(){if(!this.mediaContainer)return;const t=this.mediaContainer.querySelector("video");t&&(this.isPaused?t.pause():t.play())}pause(){if(this.isPaused)return;this.isPaused=!0,this.clearTimer();const t=Date.now()-this.startTime;this.remainingTime=Math.max(0,this.duration-t),this.updatePauseButton(),this.items[this.currentIndex].classList.add(O)}resume(){this.isPaused&&(this.isPaused=!1,this.startTime=Date.now(),this.timeoutId=setTimeout(()=>{this.showItem((this.currentIndex+1)%this.items.length)},this.remainingTime),this.updatePauseButton(),this.items[this.currentIndex].classList.remove(O))}updatePauseButton(){this.pauseButton&&(this.pauseButton.innerHTML=this.isPaused?D:V,this.pauseButton.setAttribute("aria-label",this.isPaused?"Resume":"Pause"))}clearTimer(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}destroy(){this.clearTimer(),this.accordion&&this.accordion.removeEventListener("click",this.handleClick),window.removeEventListener("orientationchange",this.handleOrientationChange),window.removeEventListener("resize",this.handleOrientationChange),this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=null),this.slider&&(this.slider.destroy(),this.slider=null),this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null)}}document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(k).forEach(t=>{new B(t)})})})();