(()=>{"use strict";var e,t={137:()=>{const e=window.wp.blocks,t=window.wp.i18n,i=window.wp.blockEditor,l=window.wp.components,o=window.wp.data,a=window.wp.element,c=window.ReactJSXRuntime;function n({clientId:e}){const{selectedBlockId:t,itemBlocks:i}=(0,o.useSelect)(t=>{const{getBlock:i,getSelectedBlockClientId:l}=t("core/block-editor"),o=i(e);return{selectedBlockId:l(),itemBlocks:o?o.innerBlocks.filter(e=>"srg/media-accordion-item"===e.name):[]}},[e]);let l=i.find(e=>e.clientId===t&&e.attributes.mediaUrl);return l||(l=i.find(e=>e.attributes.mediaUrl)),l?l.attributes.mime&&l.attributes.mime.startsWith("video/")?(0,c.jsx)("video",{src:l.attributes.mediaUrl,controls:!0,style:{maxWidth:"100%",height:"auto"}},l.clientId):l.attributes.mime&&l.attributes.mime.startsWith("image/")?(0,c.jsx)("img",{src:l.attributes.mediaUrl,alt:"Media preview",style:{maxWidth:"100%",height:"auto"}},l.clientId):(0,c.jsx)("div",{style:{color:"#888"},children:"Unsupported media type"}):(0,c.jsx)("div",{style:{color:"#888"},children:"No media selected"})}const s=["srg/media-accordion-item"],r=[["srg/media-accordion-item"]],d=JSON.parse('{"UU":"srg/media-accordion"}');(0,e.registerBlockType)(d.UU,{edit:function({attributes:d,setAttributes:u,clientId:m}){const{insertBlock:p}=(0,o.useDispatch)("core/block-editor"),h=(0,a.useRef)(null),{innerBlocks:v,selectedBlockClientId:g}=(0,o.useSelect)(e=>{const t=e("core/block-editor"),i=t.getBlocks(m),l=t.getSelectedBlock();let o=null;return l&&(i.some(e=>e.clientId===l.clientId)?o=l.clientId:i.forEach(e=>{t.getBlockParents(l.clientId).includes(e.clientId)&&(o=e.clientId)})),{innerBlocks:i,selectedBlockClientId:o}},[m]);return(0,a.useEffect)(()=>{if(0===v.length)return;let e;g?(e=g,h.current=g):h.current?e=h.current:(e=v[0].clientId,h.current=e),v.forEach(t=>{const i=document.querySelector(`[data-block="${t.clientId}"]`);i&&(t.clientId===e?i.classList.add("active"):i.classList.remove("active"))})},[v,g]),(0,a.useEffect)(()=>{d.uid||u({uid:`accordion-${m.substring(0,8)}`})},[d.uid,m,u]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(i.InspectorControls,{children:[(0,c.jsxs)(l.PanelBody,{title:(0,t.__)("Accordion Settings","media-accordion"),children:[(0,c.jsx)(l.ToggleControl,{label:(0,t.__)("Autoplay","media-accordion"),help:d.autoplay?(0,t.__)("Slides advance automatically","media-accordion"):(0,t.__)("Manual play only","media-accordion"),checked:!!d.autoplay,onChange:e=>u({autoplay:!!e})}),(0,c.jsx)(l.RadioControl,{label:(0,t.__)("Layout","media-accordion"),selected:d.layout||"layout-1",onChange:e=>u({layout:e}),options:[{label:(0,t.__)("Accordion","media-accordion"),value:"layout-1"},{label:(0,t.__)("List","media-accordion"),value:"layout-2"}]})]}),(0,c.jsx)(i.PanelColorSettings,{title:(0,t.__)("Color Settings","media-accordion"),colorSettings:[{value:d.activeItemBgColor,onChange:e=>u({activeItemBgColor:e}),label:(0,t.__)("Active Item Background Color","media-accordion")}]})]}),(0,c.jsx)("div",{...(0,i.useBlockProps)({className:`is-${d.layout||"layout-1"}`,style:{"--active-item-bg-color":d.activeItemBgColor}}),children:(0,c.jsxs)("div",{style:{display:"flex",gap:"20px"},children:[(0,c.jsxs)("div",{style:{flex:"1"},children:[(0,c.jsx)(i.InnerBlocks,{allowedBlocks:s,template:r}),(0,c.jsx)(l.Button,{variant:"primary",onClick:()=>p((0,e.createBlock)("srg/media-accordion-item"),void 0,m),style:{marginTop:"1em"},children:(0,t.__)("Add Item","media-accordion")})]}),(0,c.jsx)("div",{style:{flex:1,minWidth:"300px",maxWidth:"500px"},children:(0,c.jsx)(n,{clientId:m})})]})})]})},save:function({attributes:e}){const t=i.useBlockProps.save({className:`${e.uid} is-${e.layout||"layout-1"}`,"data-autoplay":e.autoplay?"true":"false",style:e.activeItemBgColor?{"--active-item-bg-color":e.activeItemBgColor}:{}}),l=t.className.split(" ")[0];return(0,c.jsxs)("div",{...t,children:[(0,c.jsx)("div",{className:`${l}_content`,children:(0,c.jsx)("div",{className:`${l}_content-container`,children:(0,c.jsx)(i.InnerBlocks.Content,{})})}),(0,c.jsxs)("div",{className:`${l}_media-container`,children:[(0,c.jsx)("div",{className:`${l}_media-wrap`}),(0,c.jsx)("div",{className:`${l}_pause-btn-container`,children:(0,c.jsx)("button",{"aria-label":"Pause","aria-disabled":"false",className:`${l}_pause-btn`,children:(0,c.jsx)("span",{className:`${l}_pause-btn-wrapper`,style:"width:24px;height:24px",children:(0,c.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",role:"presentation",focusable:"false",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 19H6L6 5L10 5L10 19ZM14 19L14 5L18 5V19H14Z",fill:"#ffffffff"})})})})})]})]})}})}},i={};function l(e){var o=i[e];if(void 0!==o)return o.exports;var a=i[e]={exports:{}};return t[e](a,a.exports,l),a.exports}l.m=t,e=[],l.O=(t,i,o,a)=>{if(!i){var c=1/0;for(d=0;d<e.length;d++){for(var[i,o,a]=e[d],n=!0,s=0;s<i.length;s++)(!1&a||c>=a)&&Object.keys(l.O).every(e=>l.O[e](i[s]))?i.splice(s--,1):(n=!1,a<c&&(c=a));if(n){e.splice(d--,1);var r=o();void 0!==r&&(t=r)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[i,o,a]},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={433:0,557:0};l.O.j=t=>0===e[t];var t=(t,i)=>{var o,a,[c,n,s]=i,r=0;if(c.some(t=>0!==e[t])){for(o in n)l.o(n,o)&&(l.m[o]=n[o]);if(s)var d=s(l)}for(t&&t(i);r<c.length;r++)a=c[r],l.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return l.O(d)},i=globalThis.webpackChunkmedia_accordion=globalThis.webpackChunkmedia_accordion||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var o=l.O(void 0,[557],()=>l(137));o=l.O(o)})();