{"version":3,"file":"active-accordion-item/view.js","mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACAA,QAAQ,CAACC,gBAAgB,CAAE,kBAAkB,EAAE,YAAY;EAC1D,MAAMC,UAAU,GAAGF,QAAQ,CAACG,gBAAgB,CAC3C,+BACD,CAAC;EACDD,UAAU,CAACE,OAAO,CAAIC,SAAS,IAAM;IACpC,MAAMC,KAAK,GAAGD,SAAS,CAACF,gBAAgB,CACvC,oCACD,CAAC;IACD,IAAKG,KAAK,CAACC,MAAM,GAAG,CAAC,EAAG;MACvB,IAAIC,YAAY,GAAG,CAAC;MACpB,IAAIC,SAAS,GAAG,IAAI;MAEpB,SAASC,QAAQA,CAAEC,KAAK,EAAG;QAC1B;QACAL,KAAK,CAACF,OAAO,CAAIQ,IAAI,IAAMA,IAAI,CAACC,SAAS,CAACC,MAAM,CAAE,QAAS,CAAE,CAAC;QAC9D;QACAR,KAAK,CAAEK,KAAK,CAAE,CAACE,SAAS,CAACE,GAAG,CAAE,QAAS,CAAC;QACxCP,YAAY,GAAGG,KAAK;;QAEpB;QACA,IAAKF,SAAS,EAAG;UAChBO,YAAY,CAAEP,SAAU,CAAC;QAC1B;;QAEA;QACA,MAAMQ,KAAK,GACVX,KAAK,CAAEE,YAAY,CAAE,CAACU,aAAa,CAAE,iBAAkB,CAAC;QACzD,IAAKD,KAAK,EAAG;UACZ,MAAME,YAAY,GAAGF,KAAK,CAACG,OAAO,CAACC,SAAS,CAAE,IAAK,CAAC;UACpDhB,SAAS,CAACa,aAAa,CAAE,+CAAgD,CAAC,CAACI,SAAS,GACnF,EAAE;UACHjB,SAAS,CACPa,aAAa,CAAE,+CAAgD,CAAC,CAChEK,WAAW,CAAEJ,YAAa,CAAC;QAC9B;;QAEA;QACA,MAAMK,QAAQ,GAAGC,gBAAgB,CAChCnB,KAAK,CAAEE,YAAY,CACpB,CAAC,CAACkB,gBAAgB,CAAE,sBAAuB,CAAC;QAC5C,MAAMC,EAAE,GAAGH,QAAQ,CAACI,QAAQ,CAAE,IAAK,CAAC,GACjCC,UAAU,CAAEL,QAAS,CAAC,GACtBK,UAAU,CAAEL,QAAS,CAAC,GAAG,IAAI;;QAEhC;QACAf,SAAS,GAAGqB,UAAU,CAAE,MAAM;UAC7BpB,QAAQ,CAAE,CAAEF,YAAY,GAAG,CAAC,IAAKF,KAAK,CAACC,MAAO,CAAC;QAChD,CAAC,EAAEoB,EAAG,CAAC;MACR;;MAEA;MACArB,KAAK,CAACF,OAAO,CAAE,CAAEQ,IAAI,EAAEmB,GAAG,KAAM;QAC/B,MAAMC,MAAM,GAAGpB,IAAI,CAACM,aAAa,CAAE,kDAAmD,CAAC;QACvF,IAAKc,MAAM,EAAG;UACbA,MAAM,CAAC/B,gBAAgB,CAAE,OAAO,EAAE,UAAWgC,CAAC,EAAG;YAChDA,CAAC,CAACC,cAAc,CAAC,CAAC;YAClBxB,QAAQ,CAAEqB,GAAI,CAAC;UAChB,CAAE,CAAC;QACJ;MACD,CAAE,CAAC;;MAEH;MACArB,QAAQ,CAAE,CAAE,CAAC;IACd;EACD,CAAE,CAAC;AACJ,CAAE,CAAC;AACH,8B","sources":["webpack://media-accordion/./src/active-accordion-item/view.js"],"sourcesContent":["/**\n * Use this file for JavaScript code that you want to run in the front-end\n * on posts/pages that contain this block.\n *\n * When this file is defined as the value of the `viewScript` property\n * in `block.json` it will be enqueued on the front end of the site.\n *\n * Example:\n *\n * ```js\n * {\n *   \"viewScript\": \"file:./view.js\"\n * }\n * ```\n *\n * If you're not making any changes to this file because your project doesn't need any\n * JavaScript running in the front-end, then you should delete this file and remove\n * the `viewScript` property from `block.json`.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-metadata/#view-script\n */\n\n/* eslint-disable no-console */\ndocument.addEventListener( 'DOMContentLoaded', function () {\n\tconst accordions = document.querySelectorAll(\n\t\t'.wp-block-srg-media-accordion'\n\t);\n\taccordions.forEach( ( accordion ) => {\n\t\tconst items = accordion.querySelectorAll(\n\t\t\t'.wp-block-srg-media-accordion-item'\n\t\t);\n\t\tif ( items.length > 0 ) {\n\t\t\tlet currentIndex = 0;\n\t\t\tlet timeoutId = null;\n\n\t\t\tfunction showItem( index ) {\n\t\t\t\t// Remove 'active' from all items\n\t\t\t\titems.forEach( ( item ) => item.classList.remove( 'active' ) );\n\t\t\t\t// Add 'active' to the selected item\n\t\t\t\titems[ index ].classList.add( 'active' );\n\t\t\t\tcurrentIndex = index;\n\n\t\t\t\t// Clear any existing timeout\n\t\t\t\tif ( timeoutId ) {\n\t\t\t\t\tclearTimeout( timeoutId );\n\t\t\t\t}\n\n\t\t\t\t// show media\n\t\t\t\tconst media =\n\t\t\t\t\titems[ currentIndex ].querySelector( '.media-template' );\n\t\t\t\tif ( media ) {\n\t\t\t\t\tconst mediaElement = media.content.cloneNode( true );\n\t\t\t\t\taccordion.querySelector( '.wp-block-srg-media-accordion_media-container' ).innerHTML =\n\t\t\t\t\t\t'';\n\t\t\t\t\taccordion\n\t\t\t\t\t\t.querySelector( '.wp-block-srg-media-accordion_media-container' )\n\t\t\t\t\t\t.appendChild( mediaElement );\n\t\t\t\t}\n\n\t\t\t\t// Get animation duration from CSS variable\n\t\t\t\tconst duration = getComputedStyle(\n\t\t\t\t\titems[ currentIndex ]\n\t\t\t\t).getPropertyValue( '--animation-duration' );\n\t\t\t\tconst ms = duration.includes( 'ms' )\n\t\t\t\t\t? parseFloat( duration )\n\t\t\t\t\t: parseFloat( duration ) * 1000;\n\n\t\t\t\t// Schedule next item\n\t\t\t\ttimeoutId = setTimeout( () => {\n\t\t\t\t\tshowItem( ( currentIndex + 1 ) % items.length );\n\t\t\t\t}, ms );\n\t\t\t}\n\n\t\t\t// Attach click event to each button\n\t\t\titems.forEach( ( item, idx ) => {\n\t\t\t\tconst button = item.querySelector( '.wp-block-srg-media-accordion-item_header-button' );\n\t\t\t\tif ( button ) {\n\t\t\t\t\tbutton.addEventListener( 'click', function ( e ) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tshowItem( idx );\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t// Start with the first item\n\t\t\tshowItem( 0 );\n\t\t}\n\t} );\n} );\n/* eslint-enable no-console */\n"],"names":["document","addEventListener","accordions","querySelectorAll","forEach","accordion","items","length","currentIndex","timeoutId","showItem","index","item","classList","remove","add","clearTimeout","media","querySelector","mediaElement","content","cloneNode","innerHTML","appendChild","duration","getComputedStyle","getPropertyValue","ms","includes","parseFloat","setTimeout","idx","button","e","preventDefault"],"sourceRoot":""}